<h3>メッセージ一覧</h3>
<% @another_entries.each do |another_entry| %>
  <table class="table table-striped">
    <tr>
      <td>
        <%= link_to room_path(another_entry.room.id) do %>
          <%= attachment_image_tag another_entry.customer, :image, format: 'jpeg', class: "rounded-circle", fallback: "no-image.png", size: "30x30" %>
          <%= another_entry.customer.username %>
        <% end %>
      </td>
      <td>
        <!--最新メッセージ内容の最初の7文字を表示する-->
        <% dm = DirectMessage.find_by(id: another_entry.room.direct_message_ids.last).content %>
        <!--truncateは、文字列を切り捨てて省略表示する！-->
        <%= truncate(dm, length: 10) %>
      </td>
      <td>
        <h6 style="color: #C0C0C0;">
          <%= another_entry.updated_at.strftime("%Y/%m/%d %H:%M") %>
        </h6>
      </td>
      <td>
        <%= link_to room_path(another_entry.room.id), method: :delete do %>
          <i class="fas fa-trash" style="color: black;"></i>
        <% end %>
      </td>
    </tr>
  </table>
<% end %>